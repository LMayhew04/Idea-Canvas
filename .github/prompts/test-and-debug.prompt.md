I need you to perform a full test and debug cycle for the IdeaCanvas application.

**Your Task:**
1.  Run the entire test suite using the `vitest` command.
2.  Analyze any and all test failures. For each failure, identify the root cause.
3.  Based on your analysis, create a step-by-step plan to fix all failing tests.
4.  Execute the plan, applying fixes incrementally.
5.  After applying all fixes, run the test suite again to confirm that all tests now pass.